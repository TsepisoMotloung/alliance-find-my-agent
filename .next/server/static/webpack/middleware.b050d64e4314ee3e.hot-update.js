"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./src/middleware.ts":
/*!***************************!*\
  !*** ./src/middleware.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n/* harmony import */ var next_auth_jwt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/jwt */ \"(middleware)/./node_modules/next-auth/jwt/index.js\");\n/* harmony import */ var next_auth_jwt__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_jwt__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types_models__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types/models */ \"(middleware)/./src/types/models.ts\");\n\n\n\nasync function middleware(request) {\n    const { pathname } = request.nextUrl;\n    // Get the JWT token\n    const token = await (0,next_auth_jwt__WEBPACK_IMPORTED_MODULE_1__.getToken)({\n        req: request,\n        secret: process.env.NEXTAUTH_SECRET\n    });\n    // Public routes that don't require authentication\n    const publicRoutes = [\n        \"/\",\n        \"/login\",\n        \"/register\",\n        \"/register/agent\",\n        \"/register/employee\",\n        \"/approval\",\n        \"/forgot-password\",\n        \"/reset-password\",\n        \"/map\",\n        \"/rate\",\n        \"/callback\"\n    ];\n    // Public API routes that don't require authentication\n    const publicApiRoutes = [\n        \"/api/public/\",\n        \"/api/agents/nearby\",\n        \"/api/auth/\",\n        \"/api/users/search\",\n        \"/api/ratings\",\n        \"/api/callbacks\",\n        \"/api/questions\"\n    ];\n    // Check if the path starts with any of the public routes\n    const isPublicRoute = publicRoutes.some((route)=>pathname === route || pathname.startsWith(`${route}/`));\n    // Check if the path starts with any of the public API routes\n    const isPublicApiRoute = publicApiRoutes.some((route)=>pathname.startsWith(route));\n    // Allow access to public assets\n    if (pathname.startsWith(\"/_next\") || pathname.startsWith(\"/images\") || pathname.startsWith(\"/fonts\") || pathname.startsWith(\"/favicon\")) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n    }\n    // Allow public routes and public API routes\n    if (isPublicRoute || isPublicApiRoute) {\n        // If already logged in, redirect from login/register pages\n        if (token && (pathname === \"/login\" || pathname.startsWith(\"/register\"))) {\n            // Redirect to appropriate dashboard based on role\n            if (token.role === _types_models__WEBPACK_IMPORTED_MODULE_2__.UserRole.ADMIN) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/admin\", request.url));\n            } else if (token.role === _types_models__WEBPACK_IMPORTED_MODULE_2__.UserRole.AGENT) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/agent\", request.url));\n            } else if (token.role === _types_models__WEBPACK_IMPORTED_MODULE_2__.UserRole.EMPLOYEE) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/employee\", request.url));\n            }\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n    }\n    // Protected routes - require authentication\n    if (!token) {\n        // Redirect to login page with callback URL\n        const url = new URL(\"/login\", request.url);\n        url.searchParams.set(\"callbackUrl\", encodeURI(request.url));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(url);\n    }\n    // Role-based access control\n    const { role, approvalStatus, isActive } = token;\n    // Check if account is inactive\n    if (!isActive) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/login?error=Account%20is%20inactive\", request.url));\n    }\n    // Check approval status for agents and employees\n    if (role !== _types_models__WEBPACK_IMPORTED_MODULE_2__.UserRole.ADMIN && role !== _types_models__WEBPACK_IMPORTED_MODULE_2__.UserRole.USER && approvalStatus !== _types_models__WEBPACK_IMPORTED_MODULE_2__.ApprovalStatus.APPROVED) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/approval\", request.url));\n    }\n    // Admin routes\n    if (pathname.startsWith(\"/admin\") && role !== _types_models__WEBPACK_IMPORTED_MODULE_2__.UserRole.ADMIN) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/\", request.url));\n    }\n    // Agent routes\n    if (pathname.startsWith(\"/agent\") && role !== _types_models__WEBPACK_IMPORTED_MODULE_2__.UserRole.AGENT) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/\", request.url));\n    }\n    // Employee routes\n    if (pathname.startsWith(\"/employee\") && role !== _types_models__WEBPACK_IMPORTED_MODULE_2__.UserRole.EMPLOYEE) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/\", request.url));\n    }\n    // Allow authenticated user to proceed\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n}\n// Configure matcher for routes to apply middleware\nconst config = {\n    matcher: [\n        /*\n     * Match all request paths except for:\n     * - _next/static (static files)\n     * - _next/image (image optimization files)\n     * - favicon.ico (favicon file)\n     */ \"/((?!_next/static|_next/image|favicon.ico).*)\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxDQUFDZ0MsUUFBUSxFQUMxQztRQUNBLE9BQU9uQyxxREFBWUEsQ0FBQ3dCLFFBQVEsQ0FBQyxJQUFJQyxJQUFJLGFBQWFwQixRQUFRcUIsR0FBRztJQUMvRDtJQUVBLGVBQWU7SUFDZixJQUFJcEIsU0FBU2EsVUFBVSxDQUFDLGFBQWFHLFNBQVNwQixtREFBUUEsQ0FBQ3FCLEtBQUssRUFBRTtRQUM1RCxPQUFPdkIscURBQVlBLENBQUN3QixRQUFRLENBQUMsSUFBSUMsSUFBSSxLQUFLcEIsUUFBUXFCLEdBQUc7SUFDdkQ7SUFFQSxlQUFlO0lBQ2YsSUFBSXBCLFNBQVNhLFVBQVUsQ0FBQyxhQUFhRyxTQUFTcEIsbURBQVFBLENBQUN5QixLQUFLLEVBQUU7UUFDNUQsT0FBTzNCLHFEQUFZQSxDQUFDd0IsUUFBUSxDQUFDLElBQUlDLElBQUksS0FBS3BCLFFBQVFxQixHQUFHO0lBQ3ZEO0lBRUEsa0JBQWtCO0lBQ2xCLElBQUlwQixTQUFTYSxVQUFVLENBQUMsZ0JBQWdCRyxTQUFTcEIsbURBQVFBLENBQUMwQixRQUFRLEVBQUU7UUFDbEUsT0FBTzVCLHFEQUFZQSxDQUFDd0IsUUFBUSxDQUFDLElBQUlDLElBQUksS0FBS3BCLFFBQVFxQixHQUFHO0lBQ3ZEO0lBRUEsc0NBQXNDO0lBQ3RDLE9BQU8xQixxREFBWUEsQ0FBQ3FCLElBQUk7QUFDMUI7QUFFQSxtREFBbUQ7QUFDNUMsTUFBTWUsU0FBUztJQUNwQkMsU0FBUztRQUNQOzs7OztLQUtDLEdBQ0Q7S0FDRDtBQUNILEVBQUUiLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2Uvc3JjL21pZGRsZXdhcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IHsgZ2V0VG9rZW4gfSBmcm9tIFwibmV4dC1hdXRoL2p3dFwiO1xuaW1wb3J0IHsgVXNlclJvbGUsIEFwcHJvdmFsU3RhdHVzIH0gZnJvbSBcIkAvdHlwZXMvbW9kZWxzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtaWRkbGV3YXJlKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIGNvbnN0IHsgcGF0aG5hbWUgfSA9IHJlcXVlc3QubmV4dFVybDtcblxuICAvLyBHZXQgdGhlIEpXVCB0b2tlblxuICBjb25zdCB0b2tlbiA9IGF3YWl0IGdldFRva2VuKHtcbiAgICByZXE6IHJlcXVlc3QsXG4gICAgc2VjcmV0OiBwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQsXG4gIH0pO1xuXG4gIC8vIFB1YmxpYyByb3V0ZXMgdGhhdCBkb24ndCByZXF1aXJlIGF1dGhlbnRpY2F0aW9uXG4gIGNvbnN0IHB1YmxpY1JvdXRlcyA9IFtcbiAgICBcIi9cIixcbiAgICBcIi9sb2dpblwiLFxuICAgIFwiL3JlZ2lzdGVyXCIsXG4gICAgXCIvcmVnaXN0ZXIvYWdlbnRcIixcbiAgICBcIi9yZWdpc3Rlci9lbXBsb3llZVwiLFxuICAgIFwiL2FwcHJvdmFsXCIsXG4gICAgXCIvZm9yZ290LXBhc3N3b3JkXCIsXG4gICAgXCIvcmVzZXQtcGFzc3dvcmRcIixcbiAgICBcIi9tYXBcIixcbiAgICBcIi9yYXRlXCIsXG4gICAgXCIvY2FsbGJhY2tcIixcbiAgXTtcblxuICAvLyBQdWJsaWMgQVBJIHJvdXRlcyB0aGF0IGRvbid0IHJlcXVpcmUgYXV0aGVudGljYXRpb25cbiAgY29uc3QgcHVibGljQXBpUm91dGVzID0gW1xuICAgIFwiL2FwaS9wdWJsaWMvXCIsXG4gICAgXCIvYXBpL2FnZW50cy9uZWFyYnlcIiwgLy8gTWFrZSBuZWFyYnkgYWdlbnRzIEFQSSBwdWJsaWNcbiAgICBcIi9hcGkvYXV0aC9cIixcbiAgICBcIi9hcGkvdXNlcnMvc2VhcmNoXCIsIFxuICAgIFwiL2FwaS9yYXRpbmdzXCIsXG4gICAgXCIvYXBpL2NhbGxiYWNrc1wiLFxuICAgIFwiL2FwaS9xdWVzdGlvbnNcIixcbiAgXTtcblxuICAvLyBDaGVjayBpZiB0aGUgcGF0aCBzdGFydHMgd2l0aCBhbnkgb2YgdGhlIHB1YmxpYyByb3V0ZXNcbiAgY29uc3QgaXNQdWJsaWNSb3V0ZSA9IHB1YmxpY1JvdXRlcy5zb21lKFxuICAgIChyb3V0ZSkgPT5cbiAgICAgIHBhdGhuYW1lID09PSByb3V0ZSB8fFxuICAgICAgcGF0aG5hbWUuc3RhcnRzV2l0aChgJHtyb3V0ZX0vYClcbiAgKTtcblxuICAvLyBDaGVjayBpZiB0aGUgcGF0aCBzdGFydHMgd2l0aCBhbnkgb2YgdGhlIHB1YmxpYyBBUEkgcm91dGVzXG4gIGNvbnN0IGlzUHVibGljQXBpUm91dGUgPSBwdWJsaWNBcGlSb3V0ZXMuc29tZShcbiAgICAocm91dGUpID0+IHBhdGhuYW1lLnN0YXJ0c1dpdGgocm91dGUpXG4gICk7XG5cbiAgLy8gQWxsb3cgYWNjZXNzIHRvIHB1YmxpYyBhc3NldHNcbiAgaWYgKFxuICAgIHBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvX25leHRcIikgfHxcbiAgICBwYXRobmFtZS5zdGFydHNXaXRoKFwiL2ltYWdlc1wiKSB8fFxuICAgIHBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvZm9udHNcIikgfHxcbiAgICBwYXRobmFtZS5zdGFydHNXaXRoKFwiL2Zhdmljb25cIilcbiAgKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5uZXh0KCk7XG4gIH1cblxuICAvLyBBbGxvdyBwdWJsaWMgcm91dGVzIGFuZCBwdWJsaWMgQVBJIHJvdXRlc1xuICBpZiAoaXNQdWJsaWNSb3V0ZSB8fCBpc1B1YmxpY0FwaVJvdXRlKSB7XG4gICAgLy8gSWYgYWxyZWFkeSBsb2dnZWQgaW4sIHJlZGlyZWN0IGZyb20gbG9naW4vcmVnaXN0ZXIgcGFnZXNcbiAgICBpZiAodG9rZW4gJiYgKHBhdGhuYW1lID09PSBcIi9sb2dpblwiIHx8IHBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvcmVnaXN0ZXJcIikpKSB7XG4gICAgICAvLyBSZWRpcmVjdCB0byBhcHByb3ByaWF0ZSBkYXNoYm9hcmQgYmFzZWQgb24gcm9sZVxuICAgICAgaWYgKHRva2VuLnJvbGUgPT09IFVzZXJSb2xlLkFETUlOKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QobmV3IFVSTChcIi9hZG1pblwiLCByZXF1ZXN0LnVybCkpO1xuICAgICAgfSBlbHNlIGlmICh0b2tlbi5yb2xlID09PSBVc2VyUm9sZS5BR0VOVCkge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KG5ldyBVUkwoXCIvYWdlbnRcIiwgcmVxdWVzdC51cmwpKTtcbiAgICAgIH0gZWxzZSBpZiAodG9rZW4ucm9sZSA9PT0gVXNlclJvbGUuRU1QTE9ZRUUpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChuZXcgVVJMKFwiL2VtcGxveWVlXCIsIHJlcXVlc3QudXJsKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5uZXh0KCk7XG4gIH1cblxuICAvLyBQcm90ZWN0ZWQgcm91dGVzIC0gcmVxdWlyZSBhdXRoZW50aWNhdGlvblxuICBpZiAoIXRva2VuKSB7XG4gICAgLy8gUmVkaXJlY3QgdG8gbG9naW4gcGFnZSB3aXRoIGNhbGxiYWNrIFVSTFxuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoXCIvbG9naW5cIiwgcmVxdWVzdC51cmwpO1xuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwiY2FsbGJhY2tVcmxcIiwgZW5jb2RlVVJJKHJlcXVlc3QudXJsKSk7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdCh1cmwpO1xuICB9XG5cbiAgLy8gUm9sZS1iYXNlZCBhY2Nlc3MgY29udHJvbFxuICBjb25zdCB7IHJvbGUsIGFwcHJvdmFsU3RhdHVzLCBpc0FjdGl2ZSB9ID0gdG9rZW47XG5cbiAgLy8gQ2hlY2sgaWYgYWNjb3VudCBpcyBpbmFjdGl2ZVxuICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChcbiAgICAgIG5ldyBVUkwoXCIvbG9naW4/ZXJyb3I9QWNjb3VudCUyMGlzJTIwaW5hY3RpdmVcIiwgcmVxdWVzdC51cmwpLFxuICAgICk7XG4gIH1cblxuICAvLyBDaGVjayBhcHByb3ZhbCBzdGF0dXMgZm9yIGFnZW50cyBhbmQgZW1wbG95ZWVzXG4gIGlmIChcbiAgICByb2xlICE9PSBVc2VyUm9sZS5BRE1JTiAmJlxuICAgIHJvbGUgIT09IFVzZXJSb2xlLlVTRVIgJiZcbiAgICBhcHByb3ZhbFN0YXR1cyAhPT0gQXBwcm92YWxTdGF0dXMuQVBQUk9WRURcbiAgKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChuZXcgVVJMKFwiL2FwcHJvdmFsXCIsIHJlcXVlc3QudXJsKSk7XG4gIH1cblxuICAvLyBBZG1pbiByb3V0ZXNcbiAgaWYgKHBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvYWRtaW5cIikgJiYgcm9sZSAhPT0gVXNlclJvbGUuQURNSU4pIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KG5ldyBVUkwoXCIvXCIsIHJlcXVlc3QudXJsKSk7XG4gIH1cblxuICAvLyBBZ2VudCByb3V0ZXNcbiAgaWYgKHBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvYWdlbnRcIikgJiYgcm9sZSAhPT0gVXNlclJvbGUuQUdFTlQpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KG5ldyBVUkwoXCIvXCIsIHJlcXVlc3QudXJsKSk7XG4gIH1cblxuICAvLyBFbXBsb3llZSByb3V0ZXNcbiAgaWYgKHBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvZW1wbG95ZWVcIikgJiYgcm9sZSAhPT0gVXNlclJvbGUuRU1QTE9ZRUUpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KG5ldyBVUkwoXCIvXCIsIHJlcXVlc3QudXJsKSk7XG4gIH1cblxuICAvLyBBbGxvdyBhdXRoZW50aWNhdGVkIHVzZXIgdG8gcHJvY2VlZFxuICByZXR1cm4gTmV4dFJlc3BvbnNlLm5leHQoKTtcbn1cblxuLy8gQ29uZmlndXJlIG1hdGNoZXIgZm9yIHJvdXRlcyB0byBhcHBseSBtaWRkbGV3YXJlXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBtYXRjaGVyOiBbXG4gICAgLypcbiAgICAgKiBNYXRjaCBhbGwgcmVxdWVzdCBwYXRocyBleGNlcHQgZm9yOlxuICAgICAqIC0gX25leHQvc3RhdGljIChzdGF0aWMgZmlsZXMpXG4gICAgICogLSBfbmV4dC9pbWFnZSAoaW1hZ2Ugb3B0aW1pemF0aW9uIGZpbGVzKVxuICAgICAqIC0gZmF2aWNvbi5pY28gKGZhdmljb24gZmlsZSlcbiAgICAgKi9cbiAgICBcIi8oKD8hX25leHQvc3RhdGljfF9uZXh0L2ltYWdlfGZhdmljb24uaWNvKS4qKVwiLFxuICBdLFxufTsiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0VG9rZW4iLCJVc2VyUm9sZSIsIkFwcHJvdmFsU3RhdHVzIiwibWlkZGxld2FyZSIsInJlcXVlc3QiLCJwYXRobmFtZSIsIm5leHRVcmwiLCJ0b2tlbiIsInJlcSIsInNlY3JldCIsInByb2Nlc3MiLCJlbnYiLCJORVhUQVVUSF9TRUNSRVQiLCJwdWJsaWNSb3V0ZXMiLCJwdWJsaWNBcGlSb3V0ZXMiLCJpc1B1YmxpY1JvdXRlIiwic29tZSIsInJvdXRlIiwic3RhcnRzV2l0aCIsImlzUHVibGljQXBpUm91dGUiLCJuZXh0Iiwicm9sZSIsIkFETUlOIiwicmVkaXJlY3QiLCJVUkwiLCJ1cmwiLCJBR0VOVCIsIkVNUExPWUVFIiwic2VhcmNoUGFyYW1zIiwic2V0IiwiZW5jb2RlVVJJIiwiYXBwcm92YWxTdGF0dXMiLCJpc0FjdGl2ZSIsIlVTRVIiLCJBUFBST1ZFRCIsImNvbmZpZyIsIm1hdGNoZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./src/middleware.ts\n");

/***/ })

});